!function(e){var t,i,n,a,o,r,d,f,s,c,v,O,j,l=0,h={},p=[],g=0,u={},b=[],y=null,m=new Image,w=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,x=/[^\.]\.(swf)\s*$/i,I=1,C=0,k="",T=!1,A=e.extend(e("<div/>")[0],{prop:0}),S=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,D=function(){i.hide(),m.onerror=m.onload=null,y&&y.abort(),t.empty()},F=function(){return!1===h.onError(p,l,h)?(i.hide(),void(T=!1)):(h.titleShow=!1,h.width="auto",h.height="auto",t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void N())},E=function(){var a,o,d,f,s,c,n=p[l];if(D(),h=e.extend({},e.fn.fancybox.defaults,"undefined"==typeof e(n).data("fancybox")?h:e(n).data("fancybox")),c=h.onStart(p,l,h),c===!1)return void(T=!1);if("object"==typeof c&&(h=e.extend(h,c)),d=h.title||(n.nodeName?e(n).attr("title"):n.title)||"",n.nodeName&&!h.orig&&(h.orig=e(n).children("img:first").length?e(n).children("img:first"):e(n)),""===d&&h.orig&&h.titleFromAlt&&(d=h.orig.attr("alt")),a=h.href||(n.nodeName?e(n).attr("href"):n.href)||null,(/^(?:javascript)/i.test(a)||"#"==a)&&(a=null),h.type?(o=h.type,a||(a=h.content)):h.content?o="html":a&&(o=a.match(w)?"image":a.match(x)?"swf":e(n).hasClass("iframe")?"iframe":0===a.indexOf("#")?"inline":"ajax"),!o)return void F();switch("inline"==o&&(n=a.substr(a.indexOf("#")),o=e(n).length>0?"inline":"ajax"),h.type=o,h.href=a,h.title=d,h.autoDimensions&&("html"==h.type||"inline"==h.type||"ajax"==h.type?(h.width="auto",h.height="auto"):h.autoDimensions=!1),h.modal&&(h.overlayShow=!0,h.hideOnOverlayClick=!1,h.hideOnContentClick=!1,h.enableEscapeButton=!1,h.showCloseButton=!1),h.padding=parseInt(h.padding,10),h.margin=parseInt(h.margin,10),t.css("padding",h.padding+h.margin),e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){e(this).replaceWith(r.children())}),o){case"html":t.html(h.content),N();break;case"inline":if(e(n).parent().is("#fancybox-content")===!0)return void(T=!1);e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(n)).bind("fancybox-cleanup",function(){e(this).replaceWith(r.children())}).bind("fancybox-cancel",function(){e(this).replaceWith(t.children())}),e(n).appendTo(t),N();break;case"image":T=!1,e.fancybox.showActivity(),m=new Image,m.onerror=function(){F()},m.onload=function(){T=!0,m.onerror=m.onload=null,B()},m.src=a;break;case"swf":h.scrolling="no",f='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+h.width+'" height="'+h.height+'"><param name="movie" value="'+a+'"></param>',s="",e.each(h.swf,function(e,t){f+='<param name="'+e+'" value="'+t+'"></param>',s+=" "+e+'="'+t+'"'}),f+='<embed src="'+a+'" type="application/x-shockwave-flash" width="'+h.width+'" height="'+h.height+'"'+s+"></embed></object>",t.html(f),N();break;case"ajax":T=!1,e.fancybox.showActivity(),h.ajax.win=h.ajax.success,y=e.ajax(e.extend({},h.ajax,{url:a,data:h.ajax.data||{},error:function(e,t,i){e.status>0&&F()},success:function(e,n,o){var r="object"==typeof o?o:y;if(200==r.status){if("function"==typeof h.ajax.win){if(c=h.ajax.win(a,e,n,o),c===!1)return void i.hide();("string"==typeof c||"object"==typeof c)&&(e=c)}t.html(e),N()}}}));break;case"iframe":P()}},N=function(){var i=h.width,n=h.height;i=i.toString().indexOf("%")>-1?parseInt((e(window).width()-2*h.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((e(window).height()-2*h.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",t.wrapInner('<div style="width:'+i+";height:"+n+";overflow: "+("auto"==h.scrolling?"auto":"yes"==h.scrolling?"scroll":"hidden")+';position:relative;"></div>'),h.width=t.width(),h.height=t.height(),P()},B=function(){h.width=m.width,h.height=m.height,e("<img />").attr({id:"fancybox-img",src:m.src,alt:h.title}).appendTo(t),P()},P=function(){var o,y;return i.hide(),a.is(":visible")&&!1===u.onCleanup(b,g,u)?(e(".fancybox-inline-tmp").trigger("fancybox-cancel"),void(T=!1)):(T=!0,e(r.add(n)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),a.is(":visible")&&"outside"!==u.titlePosition&&a.css("height",a.height()),b=p,g=l,u=h,u.overlayShow?(n.css({"background-color":u.overlayColor,opacity:u.overlayOpacity,cursor:u.hideOnOverlayClick?"pointer":"auto",height:e(document).height()}),n.is(":visible")||(S&&e("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),j=q(),M(),a.is(":visible")?(e(d.add(s).add(c)).hide(),o=a.position(),O={top:o.top,left:o.left,width:a.width(),height:a.height()},y=O.width==j.width&&O.height==j.height,void r.fadeTo(u.changeFade,.3,function(){var i=function(){r.html(t.contents()).fadeTo(u.changeFade,1,H)};e(".fancybox-inline-tmp").trigger("fancybox-change"),r.empty().removeAttr("filter").css({"border-width":u.padding,width:j.width-2*u.padding,height:h.autoDimensions?"auto":j.height-C-2*u.padding}),y?i():(A.prop=0,e(A).animate({prop:1},{duration:u.changeSpeed,easing:u.easingChange,step:K,complete:i}))})):(a.removeAttr("style"),r.css("border-width",u.padding),"elastic"==u.transitionIn?(O=X(),r.html(t.contents()),a.show(),u.opacity&&(j.opacity=0),A.prop=0,void e(A).animate({prop:1},{duration:u.speedIn,easing:u.easingIn,step:K,complete:H})):("inside"==u.titlePosition&&C>0&&f.show(),r.css({width:j.width-2*u.padding,height:h.autoDimensions?"auto":j.height-C-2*u.padding}).html(t.contents()),void a.css(j).fadeIn("none"==u.transitionIn?0:u.speedIn,H))))},L=function(e){return e&&e.length?"float"==u.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+e+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+u.titlePosition+'">'+e+"</div>":!1},M=function(){if(k=u.title||"",C=0,f.empty().removeAttr("style").removeClass(),u.titleShow===!1)return void f.hide();if(k=e.isFunction(u.titleFormat)?u.titleFormat(k,b,g,u):L(k),!k||""===k)return void f.hide();switch(f.addClass("fancybox-title-"+u.titlePosition).html(k).appendTo("body").show(),u.titlePosition){case"inside":f.css({width:j.width-2*u.padding,marginLeft:u.padding,marginRight:u.padding}),C=f.outerHeight(!0),f.appendTo(o),j.height+=C;break;case"over":f.css({marginLeft:u.padding,width:j.width-2*u.padding,bottom:u.padding}).appendTo(o);break;case"float":f.css("left",-1*parseInt((f.width()-j.width-40)/2,10)).appendTo(a);break;default:f.css({width:j.width-2*u.padding,paddingLeft:u.padding,paddingRight:u.padding}).appendTo(a)}f.hide()},z=function(){return(u.enableEscapeButton||u.enableKeyboardNav)&&e(document).bind("keydown.fb",function(t){27==t.keyCode&&u.enableEscapeButton?(t.preventDefault(),e.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!u.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),e.fancybox[37==t.keyCode?"prev":"next"]())}),u.showNavArrows?((u.cyclic&&b.length>1||0!==g)&&s.show(),void((u.cyclic&&b.length>1||g!=b.length-1)&&c.show())):(s.hide(),void c.hide())},H=function(){e.support.opacity||(r.get(0).style.removeAttribute("filter"),a.get(0).style.removeAttribute("filter")),h.autoDimensions&&r.css("height","auto"),a.css("height","auto"),k&&k.length&&f.show(),u.showCloseButton&&d.show(),z(),u.hideOnContentClick&&r.bind("click",e.fancybox.close),u.hideOnOverlayClick&&n.bind("click",e.fancybox.close),e(window).bind("resize.fb",e.fancybox.resize),u.centerOnScroll&&e(window).bind("scroll.fb",e.fancybox.center),"iframe"==u.type&&e('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+h.scrolling+'" src="'+u.href+'"></iframe>').appendTo(r),a.show(),T=!1,e.fancybox.center(),u.onComplete(b,g,u),R()},R=function(){var e,t;b.length-1>g&&(e=b[g+1].href,"undefined"!=typeof e&&e.match(w)&&(t=new Image,t.src=e)),g>0&&(e=b[g-1].href,"undefined"!=typeof e&&e.match(w)&&(t=new Image,t.src=e))},K=function(e){var t={width:parseInt(O.width+(j.width-O.width)*e,10),height:parseInt(O.height+(j.height-O.height)*e,10),top:parseInt(O.top+(j.top-O.top)*e,10),left:parseInt(O.left+(j.left-O.left)*e,10)};"undefined"!=typeof j.opacity&&(t.opacity=.5>e?.5:e),a.css(t),r.css({width:t.width-2*u.padding,height:t.height-C*e-2*u.padding})},W=function(){return[e(window).width()-2*u.margin,e(window).height()-2*u.margin,e(document).scrollLeft()+u.margin,e(document).scrollTop()+u.margin]},q=function(){var a,e=W(),t={},i=u.autoScale,n=2*u.padding;return u.width.toString().indexOf("%")>-1?t.width=parseInt(e[0]*parseFloat(u.width)/100,10):t.width=u.width+n,u.height.toString().indexOf("%")>-1?t.height=parseInt(e[1]*parseFloat(u.height)/100,10):t.height=u.height+n,i&&(t.width>e[0]||t.height>e[1])&&("image"==h.type||"swf"==h.type?(a=u.width/u.height,t.width>e[0]&&(t.width=e[0],t.height=parseInt((t.width-n)/a+n,10)),t.height>e[1]&&(t.height=e[1],t.width=parseInt((t.height-n)*a+n,10))):(t.width=Math.min(t.width,e[0]),t.height=Math.min(t.height,e[1]))),t.top=parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-t.height-40)),10),t.left=parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-t.width-40)),10),t},Q=function(e){var t=e.offset();return t.top+=parseInt(e.css("paddingTop"),10)||0,t.left+=parseInt(e.css("paddingLeft"),10)||0,t.top+=parseInt(e.css("border-top-width"),10)||0,t.left+=parseInt(e.css("border-left-width"),10)||0,t.width=e.width(),t.height=e.height(),t},X=function(){var n,a,t=h.orig?e(h.orig):!1,i={};return t&&t.length?(n=Q(t),i={width:n.width+2*u.padding,height:n.height+2*u.padding,top:n.top-u.padding-20,left:n.left-u.padding-20}):(a=W(),i={width:2*u.padding,height:2*u.padding,top:parseInt(a[3]+.5*a[1],10),left:parseInt(a[2]+.5*a[0],10)}),i},$=function(){return i.is(":visible")?(e("div",i).css("top",-40*I+"px"),void(I=(I+1)%12)):void clearInterval(v)};e.fn.fancybox=function(t){return e(this).length?(e(this).data("fancybox",e.extend({},t,e.metadata?e(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!T){T=!0,e(this).blur(),p=[],l=0;var i=e(this).attr("rel")||"";i&&""!=i&&"nofollow"!==i?(p=e("a[rel="+i+"], area[rel="+i+"]"),l=p.index(this)):p.push(this),E()}}),this):this},e.fancybox=function(t){var i;if(!T){if(T=!0,i="undefined"!=typeof arguments[1]?arguments[1]:{},p=[],l=parseInt(i.index,10)||0,e.isArray(t)){for(var n=0,a=t.length;a>n;n++)"object"==typeof t[n]?e(t[n]).data("fancybox",e.extend({},i,t[n])):t[n]=e({}).data("fancybox",e.extend({content:t[n]},i));p=jQuery.merge(p,t)}else"object"==typeof t?e(t).data("fancybox",e.extend({},i,t)):t=e({}).data("fancybox",e.extend({content:t},i)),p.push(t);(l>p.length||0>l)&&(l=0),E()}},e.fancybox.showActivity=function(){clearInterval(v),i.show(),v=setInterval($,66)},e.fancybox.hideActivity=function(){i.hide()},e.fancybox.next=function(){return e.fancybox.pos(g+1)},e.fancybox.prev=function(){return e.fancybox.pos(g-1)},e.fancybox.pos=function(e){T||(e=parseInt(e),p=b,e>-1&&e<b.length?(l=e,E()):u.cyclic&&b.length>1&&(l=e>=b.length?0:b.length-1,E()))},e.fancybox.cancel=function(){T||(T=!0,e(".fancybox-inline-tmp").trigger("fancybox-cancel"),D(),h.onCancel(p,l,h),T=!1)},e.fancybox.close=function(){function t(){n.fadeOut("fast"),f.empty().hide(),a.hide(),e(".fancybox-inline-tmp, select:not(#fancybox-tmp select)").trigger("fancybox-cleanup"),r.empty(),u.onClosed(b,g,u),b=h=[],g=l=0,u=h={},T=!1}if(!T&&!a.is(":hidden")){if(T=!0,u&&!1===u.onCleanup(b,g,u))return void(T=!1);if(D(),e(d.add(s).add(c)).hide(),e(r.add(n)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),r.find("iframe").attr("src",S&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==u.titlePosition&&f.empty(),a.stop(),"elastic"==u.transitionOut){O=X();var i=a.position();j={top:i.top,left:i.left,width:a.width(),height:a.height()},u.opacity&&(j.opacity=1),f.empty().hide(),A.prop=1,e(A).animate({prop:0},{duration:u.speedOut,easing:u.easingOut,step:K,complete:t})}else a.fadeOut("none"==u.transitionOut?0:u.speedOut,t)}},e.fancybox.resize=function(){n.is(":visible")&&n.css("height",e(document).height()),e.fancybox.center(!0)},e.fancybox.center=function(){var e,t;T||(t=arguments[0]===!0?1:0,e=W(),(t||!(a.width()>e[0]||a.height()>e[1]))&&a.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-r.height()-40)-u.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-r.width()-40)-u.padding))},"number"==typeof arguments[0]?arguments[0]:200))},e.fancybox.init=function(){e("#fancybox-wrap").length||(e("body").append(t=e('<div id="fancybox-tmp"></div>'),i=e('<div id="fancybox-loading"><div></div></div>'),n=e('<div id="fancybox-overlay"></div>'),a=e('<div id="fancybox-wrap"></div>')),o=e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(a),o.append(r=e('<div id="fancybox-content"></div>'),d=e('<a id="fancybox-close"></a>'),f=e('<div id="fancybox-title"></div>'),s=e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),c=e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),d.click(e.fancybox.close),i.click(e.fancybox.cancel),s.click(function(t){t.preventDefault(),e.fancybox.prev()}),c.click(function(t){t.preventDefault(),e.fancybox.next()}),e.fn.mousewheel&&a.bind("mousewheel.fb",function(t,i){T?t.preventDefault():(0==e(t.target).get(0).clientHeight||e(t.target).get(0).scrollHeight===e(t.target).get(0).clientHeight)&&(t.preventDefault(),e.fancybox[i>0?"prev":"next"]())}),e.support.opacity||a.addClass("fancybox-ie"),S&&(i.addClass("fancybox-ie6"),a.addClass("fancybox-ie6"),e('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},e.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},e(document).ready(function(){e.fancybox.init()})}(jQuery);